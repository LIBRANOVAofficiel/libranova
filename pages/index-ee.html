<!DOCTYPE html>
<html lang="ee">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LIBRANOVA – Uue maailma nimel</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
</head>
<body>
  <div id="language-selector" style="position: absolute; top: 10px; right: 10px; z-index: 999;">
 <a href="../index.html" title="Français"><img src="../images/flag-fr.png" alt="FR" style="width: 28px; height: auto; margin-right: 6px;"></a>
    <a href="index-en.html" title="English"><img src="../images/flag-en.png" alt="EN" style="width: 28px; height: auto;"></a>
    <a href="index-de.html" title="Deutsch"><img src="../images/flag-de.png" alt="DE" style="width: 28px; height: auto;"></a>
    <a href="index-bg.html" title="български"><img src="../images/flag-bg.png" alt="BG" style="width: 28px; height: auto;"></a>
    <a href="index-hr.html" title="Hrvatska"><img src="../images/flag-hr.png" alt="HR" style="width: 28px; height: auto;"></a>
    <a href="index-dk.html" title="Danemark"><img src="../images/flag-dk.png" alt="DK" style="width: 28px; height: auto;"></a>
    <a href="index-es.html" title="España"><img src="../images/flag-es.png" alt="ES" style="width: 28px; height: auto;"></a>
    <a href="index-ee.html" title="Eesti"><img src="../images/flag-ee.png" alt="EE" style="width: 28px; height: auto;"></a>
    <a href="index-gr.html" title="Ελλάδα"><img src="../images/flag-gr.png" alt="GR" style="width: 28px; height: auto;"></a>
    <a href="index-hu.html" title="Magyarország"><img src="../images/flag-hu.png" alt="HU" style="width: 28px; height: auto;"></a>
    <a href="index-it.html" title="Italia"><img src="../images/flag-it.png" alt="IT" style="width: 28px; height: auto;"></a>
    <a href="index-lv.html" title="Latvija"><img src="../images/flag-lv.png" alt="LV" style="width: 28px; height: auto;"></a>
    <a href="index-lt.html" title="Letuvia"><img src="../images/flag-lt.png" alt="LT" style="width: 28px; height: auto;"></a>
    <a href="index-nl.html" title="Nederland"><img src="../images/flag-nl.png" alt="NL" style="width: 28px; height: auto;"></a>
    <a href="index-pl.html" title="Polska"><img src="../images/flag-pl.png" alt="PL" style="width: 28px; height: auto;"></a>
    <a href="index-pt.html" title="Portugal"><img src="../images/flag-pt.png" alt="PT" style="width: 28px; height: auto;"></a>
    <a href="index-cz.html" title="Česká republika"><img src="../images/flag-cz.png" alt="CZ" style="width: 28px; height: auto;"></a>
    <a href="index-ro.html" title="România"><img src="../images/flag-ro.png" alt="RO" style="width: 28px; height: auto;"></a>
    <a href="index-sk.html" title="Slovensko"><img src="../images/flag-sk.png" alt="SK" style="width: 28px; height: auto;"></a>
    <a href="index-si.html" title="Slovenija"><img src="../images/flag-si.png" alt="SI" style="width: 28px; height: auto;"></a>
    <a href="index-se.html" title="Mocka"><img src="../images/flag-se.png" alt="SE" style="width: 28px; height: auto;"></a>
</div>
 <header class="hero-banner">
    <div class="overlay">
      <h1>LIBRANOVA</h1>
      <p class="slogan">
        Uue maailma nimel – ühineme jagamiseks, ärkame muutusteks.<br />
        Loome koos maailma, mis on vaba ebaõigluse ahelatest.
      </p>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#presentation">Tutvustus</a></li>
      <li><a href="#manifeste">Manifest</a></li>
      <li><a href="#chants">Laul</a></li>
      <li><a href="#contact">Kontakt</a></li>
      <li><a href="#rejoindre">Liitu</a></li>
      <li><a href="#commentaires">Kommentaarid</a></li>
      <li><a href="#compteur">Loendur</a></li>
    </ul>
  </nav>

<section id="presentation" style="position: relative; text-align: center; color: white;">
  <img src="../images/banniere-utopie-travail-vie.png" alt="Töö vs inimelu" class="banniere-image" />

  <div class="banniere-texte">
    <h2 style="font-size: 2rem; font-weight: bold; background-color: transparent; color: black; margin: 0;">Tutvustus</h2>
  </div>
</section>

<section style="text-align: center; padding: 2rem; background-color: rgba(255,255,255,0.9); margin-top: -4px; border-radius: 12px;">
  <p>
    LIBRANOVA on üleilmse muutuse projekt – visioon rahata maailmast, kus inimkond ühineb austuse, solidaarsuse ja kollektiivse teadlikkuse nimel.
  </p>
  <p>
    See on kutse luua koos õiglane tsivilisatsioon ilma majanduslike piirideta, kus igal inimesel on ligipääs eluasemele, toidule, tervishoiule, teadmistele, rahule ja väärikusele.
  </p>
  <p>
    LIBRANOVA lükkab tagasi tehisliku nappuse valitsemise. See pakub jagatud külluse maailma, kooskõlas planeediga, vabastades inimkonna potentsiaali kasumivajaduse ahelatest.
  </p>
</section>

<section id="manifeste" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-pauvreté-fin de la misére.png" alt="Vaesus vs viletsuse lõpp">

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Manifest</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p style="color: #333;">Laadi alla täismahus manifest:</p>
  <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
    <a href="../manifeste/Manifeste-ee-LIBRANOVA.pdf" class="button" download>Laadi alla PDF</a>
    <a href="../manifeste/Manifeste-ee-LIBRANOVA.pdf" class="button" target="_blank">Loe veebis</a>
  </div>
</div>

<section id="chants" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-noneveil-eveil.png" alt="Maailma ärkamine">

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">LIBRANOVA laul</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 2rem; margin-top: 1rem;">
    <div style="text-align: center;">
      <p><strong>Naishäälne versioon</strong><br>Õrn ja emotsionaalne, kandev lootust.</p>
      <a href="../audio/Le chant de l'âme feminin.mp3" class="button" target="_blank">Kuula</a><br><br>
      <a href="../audio/Le chant de l'âme feminin.mp3" class="button" download>Laadi alla</a>
    </div>
    <div style="text-align: center;">
      <p><strong>Meeshäälne versioon</strong><br>Sügav ja pühendunud väljendus.</p>
      <a href="../audio/Le chant de l'âme masculin.mp3" class="button" target="_blank">Kuula</a><br><br>
      <a href="../audio/Le chant de l'âme masculin.mp3" class="button" download>Laadi alla</a>
    </div>
  </div>
  <p style="margin-top: 1rem; font-size: 0.9rem; color: #555;">
    Need laulud on kaitstud CC BY-NC-ND 4.0 litsentsiga. Jagamine on lubatud mittetulunduslikult.
  </p>
</div>

<section id="contact" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-guerre-paix.png" alt="Sõda vs Rahu" />

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Kontakt ja võrgustikud</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p>Email: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></p>
  <p>YouTube: <a href="https://www.youtube.com/@LeporteurdeLIBRANOVA" target="_blank">@LeporteurdeLIBRANOVA</a></p>
  <p>Instagram: <a href="https://www.instagram.com/libranova_officiel" target="_blank">@libranova_officiel</a></p>
</div>

<section id="rejoindre" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utoipie-union.png" alt="Liitu LIBRANOVAGA">
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Liitu LIBRANOVAGA</h2>
  </div>
</section>

<section style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p>LIBRANOVA on kutse. Ühine unistus. Hinge ja mõistuse revolutsioon. Kui see visioon sind kõnetab, oled sa juba osa sellest. Siin on, kuidas saad kaasa aidata:</p>
  <ul style="text-align: left; max-width: 800px; margin: 2rem auto;">
    <li><strong>Jaga manifesti</strong> oma keeles, sotsiaalmeedias ja oma kogukonnas.</li>
    <li><strong>Tee tuntuks Hingelaul</strong> – võimas emotsionaalne tööriist teadlikkuse äratamiseks.</li>
    <li><strong>Tõlgi, levita, kohanda</strong> sisu teistesse keeltesse või vormingutesse (videod, plakatid, tekstid).</li>
    <li><strong>Loo LIBRANOVA ringe</strong> oma linnas, koolis või kogukonnakeskuses.</li>
    <li><strong>Võta meiega ühendust</strong> ideede, koostöö või küsimuste korral: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></li>
    <li><strong>Ela ja ärata teisi</strong>, elades juba täna LIBRANOVA väärtuste järgi.</li>
  </ul>
  <p style="font-weight: bold;">Kas usud uude maailma?</p>
  <a href="https://www.mesopinions.com/petition/social/libranova-monde-argent-fonde-humain-planete/242752" class="button" target="_blank" style="background-color: #007bff;">Allkirjasta LIBRANOVA petitsioon</a>

  <div class="like-container" style="margin-top: 20px;">
    <button class="like-button" id="like-btn">❤️ Meeldib</button>
    <span id="like-count">Laadimine...</span>
  </div>
</section>

<section id="commentaires" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-avis-libranova.png" alt="Jaga oma arvamust" />
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Jaga oma arvamust</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p style="color: #333; font-size: 1.1rem;">
    Sinu mõtted, tunded ja ideed on väärtuslikud. Aitäh, et aitad LIBRANOVA projektil kasvada.
  </p>

  <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfzQ-lbPlE6GaOeuQLBDHdyuWAqEaqWtl7yzINXmMNAtfogwA/viewform?embedded=true" width="640" height="1408" frameborder="0" marginheight="0" marginwidth="0">Chargement…</iframe>
</div>

<section id="compteur" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-visiteur.png" alt="Külastajad" />

  <!-- Pealkiri -->
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: white; background: transparent; text-shadow: none;">Külastajad</h2>
  </div>

  <!-- Tsitaat -->
  <div class="banniere-texte" style="top: 75%; transform: translate(-50%, -75%);">
    <p style="font-size: 1.2rem; font-weight: normal; color: white; margin: 0; background: transparent;">
      Maailma ühendamine armastuse ja vennalikkuse kaudu on meie suurim jõud.
    </p>
  </div>

  <!-- Loendur -->
  <div class="banniere-texte">
    <p id="visitor-count" style="background: transparent; color: black; font-weight: bold; margin-top: 1rem;">
      Laadimine…
    </p>
  </div>
</section>

<section style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 2rem auto; max-width: 1000px; text-align: center; font-size: 1.1rem; color: #333;">
  <p style="font-weight: bold; font-size: 1.3rem;">
    © LIBRANOVA projekti kandja
  </p>
  <p>
    See teos on avaldatud järgmise litsentsi alusel:
  </p>

  <p style="font-weight: bold; font-size: 1.2rem;">
    Creative Commons – Autorile viitamine – Mitteäriline – Tuletatud teosteta 4.0 Rahvusvaheline<br>(CC BY-NC-ND 4.0)
  </p>

  <div style="margin: 1rem 0;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt="CC" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/by.svg" alt="BY" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg" alt="NC" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/nd.svg" alt="ND" style="height: 30px;">
  </div>

  <p>
    Kaubanduslik kasutus, muudatused või ümberkujundused ei ole lubatud ilma autori kirjaliku loata.
  </p>

  <p>
    Vaata litsentsi täielikku versiooni siit:<br>
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.et" target="_blank">
      https://creativecommons.org/licenses/by-nc-nd/4.0/deed.et
    </a>
  </p>
</section>

<footer style="margin-top: 2rem; padding: 2rem; background-color: rgba(255, 255, 255, 0.9); border-radius: 12px; text-align: center;">
  <p style="font-size: 1.1rem; font-weight: bold; color: #222;">
    © 2025 LIBRANOVA | Creative Commons litsents: Autorile viitamine – Mitteäriline – Tuletatud teosteta 4.0 Rahvusvaheline (CC BY-NC-ND 4.0)
  </p>
  <p style="font-size: 1rem; color: #333; margin-top: 0.5rem;">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.et" target="_blank" style="color: #0e2f44; text-decoration: underline;">
      Vaata litsentsi üksikasju
    </a>
  </p>
</footer>
<script type="module">
 import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

 const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co'
 const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8'

 const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)

 async function logVisit() {
   const visitorId = getOrCreateVisitorId();
   const { data: existing, error: checkError } = await supabase
     .from('VISITS')
     .select('*')
     .eq('visitor_id', visitorId);

   if (checkError) {
     console.error('Error checking visitor:', checkError.message);
     return;
   }

   if (existing.length === 0) {
     const { error: insertError } = await supabase
       .from('VISITS')
       .insert([{ visitor_id: visitorId }]);
     if (insertError) {
       console.error('Error recording visit:', insertError.message);
     }
   }
 }

 async function getVisitCount() {
   const { data, error } = await supabase.from('VISITS').select('id')
   if (error) {
     console.error('Error retrieving counter:', error.message)
     return null
   }
   return data.length
 }

 document.addEventListener('DOMContentLoaded', async () => {
   await logVisit()
   const count = await getVisitCount()
   const counterDisplay = document.getElementById('visitor-count')
   if (counterDisplay && count !== null) {
     counterDisplay.textContent = `Number of visitors: ${count}`
   } else {
     counterDisplay.textContent = `Counter unavailable.`
   }
 })

 function getOrCreateVisitorId() {
   let id = localStorage.getItem('visitor_id');
   if (!id) {
     id = (Math.random().toString(36).substring(2)) + Date.now().toString(36);
     localStorage.setItem('visitor_id', id);
   }
   return id;
 }
</script>

<!-- Like Button Script -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
 const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co';
 const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8';
 const TABLE_NAME = 'likes';

 const supabaseLike = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

 function getOrCreateVisitorId() {
   let id = localStorage.getItem('visitor_id');
   if (!id) {
     id = (Math.random().toString(36).substring(2)) + Date.now().toString(36);
     localStorage.setItem('visitor_id', id);
   }
   return id;
 }

 async function fetchLikeCount() {
   const { count, error } = await supabaseLike
     .from(TABLE_NAME)
     .select('*', { count: 'exact', head: true });

   if (!error) {
     document.getElementById('like-count').textContent = `${count} likes`;
   } else {
     console.error("Error loading likes:", error.message);
   }
 }

 async function handleLike() {
   const visitorId = getOrCreateVisitorId();

   const { data: existing, error: selectError } = await supabaseLike
     .from('likes')
     .select('*')
     .eq('ip_hash', visitorId);

   if (selectError) {
     console.error("Error checking like:", selectError.message);
     return;
   }

   if (existing && existing.length > 0) {
     console.log("Already liked");
     return;
   }

   const { error: insertError } = await supabaseLike
     .from('likes')
     .insert([{ ip_hash: visitorId }]);

   if (!insertError) {
     document.querySelector('.like-button').classList.add('clicked');
     fetchLikeCount();
   } else {
     console.error("Error recording like:", insertError.message);
   }
 }

 document.addEventListener("DOMContentLoaded", () => {
   document.getElementById("like-btn").addEventListener("click", handleLike);
   fetchLikeCount();
 });
</script>
</body>
</html>
