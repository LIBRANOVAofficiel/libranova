<!DOCTYPE html>
<html lang="se">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LIBRANOVA – För en ny värld</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
</head>
<body>
  <div id="language-selector" style="position: absolute; top: 10px; right: 10px; z-index: 999;">
 <a href="../index.html" title="Français"><img src="../images/flag-fr.png" alt="FR" style="width: 28px; height: auto; margin-right: 6px;"></a>
    <a href="index-en.html" title="English"><img src="../images/flag-en.png" alt="EN" style="width: 28px; height: auto;"></a>
    <a href="index-de.html" title="Deutsch"><img src="../images/flag-de.png" alt="DE" style="width: 28px; height: auto;"></a>
    <a href="index-bg.html" title="български"><img src="../images/flag-bg.png" alt="BG" style="width: 28px; height: auto;"></a>
    <a href="index-hr.html" title="Hrvatska"><img src="../images/flag-hr.png" alt="HR" style="width: 28px; height: auto;"></a>
    <a href="index-dk.html" title="Danemark"><img src="../images/flag-dk.png" alt="DK" style="width: 28px; height: auto;"></a>
    <a href="index-es.html" title="España"><img src="../images/flag-es.png" alt="ES" style="width: 28px; height: auto;"></a>
    <a href="index-ee.html" title="Eesti"><img src="../images/flag-ee.png" alt="EE" style="width: 28px; height: auto;"></a>
    <a href="index-gr.html" title="Ελλάδα"><img src="../images/flag-gr.png" alt="GR" style="width: 28px; height: auto;"></a>
    <a href="index-hu.html" title="Magyarország"><img src="../images/flag-hu.png" alt="HU" style="width: 28px; height: auto;"></a>
    <a href="index-it.html" title="Italia"><img src="../images/flag-it.png" alt="IT" style="width: 28px; height: auto;"></a>
    <a href="index-lv.html" title="Latvija"><img src="../images/flag-lv.png" alt="LV" style="width: 28px; height: auto;"></a>
    <a href="index-lt.html" title="Letuvia"><img src="../images/flag-lt.png" alt="LT" style="width: 28px; height: auto;"></a>
    <a href="index-nl.html" title="Nederland"><img src="../images/flag-nl.png" alt="NL" style="width: 28px; height: auto;"></a>
    <a href="index-pl.html" title="Polska"><img src="../images/flag-pl.png" alt="PL" style="width: 28px; height: auto;"></a>
    <a href="index-pt.html" title="Portugal"><img src="../images/flag-pt.png" alt="PT" style="width: 28px; height: auto;"></a>
    <a href="index-cz.html" title="Česká republika"><img src="../images/flag-cz.png" alt="CZ" style="width: 28px; height: auto;"></a>
    <a href="index-ro.html" title="România"><img src="../images/flag-ro.png" alt="RO" style="width: 28px; height: auto;"></a>
    <a href="index-sk.html" title="Slovensko"><img src="../images/flag-sk.png" alt="SK" style="width: 28px; height: auto;"></a>
    <a href="index-si.html" title="Slovenija"><img src="../images/flag-si.png" alt="SI" style="width: 28px; height: auto;"></a>
    <a href="index-se.html" title="Mocka"><img src="../images/flag-se.png" alt="SE" style="width: 28px; height: auto;"></a>
</div>
<header class="hero-banner">
    <div class="overlay">
      <h1>LIBRANOVA</h1>
      <p class="slogan">
        För en ny värld – förena oss för att dela, vakna för att förändra.<br />
        Tillsammans bygger vi en värld befriad från orättvisans bojor.
      </p>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#presentation">Presentation</a></li>
      <li><a href="#manifeste">Manifest</a></li>
      <li><a href="#chants">Sång</a></li>
      <li><a href="#contact">Kontakt</a></li>
      <li><a href="#rejoindre">Gå med</a></li>
      <li><a href="#commentaires">Kommentarer</a></li>
      <li><a href="#compteur">Räknare</a></li>
    </ul>
  </nav>

<section id="presentation" style="position: relative; text-align: center; color: white;">
  <img src="../images/banniere-utopie-travail-vie.png" alt="Arbete vs Mänskligt liv" class="banniere-image" />

  <div class="banniere-texte">
    <h2 style="font-size: 2rem; font-weight: bold; background-color: transparent; color: black; margin: 0;">Presentation</h2>
  </div>
</section>

<section style="text-align: center; padding: 2rem; background-color: rgba(255,255,255,0.9); margin-top: -4px; border-radius: 12px;">
  <p>
    LIBRANOVA är ett projekt för global förändring – en vision om en värld utan pengar, där mänskligheten förenas i respekt, solidaritet och kollektivt medvetande.
  </p>
  <p>
    Det är en uppmaning att tillsammans bygga en rättvis civilisation utan ekonomiska gränser, där varje människa har tillgång till bostad, mat, vård, kunskap, fred och värdighet.
  </p>
  <p>
    LIBRANOVA förkastar den påtvingade bristens logik. Den föreslår ett delat överflöd i harmoni med planeten och frigör den mänskliga potentialen från vinstens bojor.
  </p>
</section>

<section id="manifeste" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-pauvreté-fin de la misére.png" alt="Fattigdom vs Slut på misär">

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Manifest</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p style="color: #333;">Ladda ner det fullständiga manifestet:</p>
  <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
    <a href="../manifeste/Manifeste-se-LIBRANOVA.pdf" class="button" download>Ladda ner PDF</a>
    <a href="../manifeste/Manifeste-se-LIBRANOVA.pdf" class="button" target="_blank">Läs online</a>
  </div>
</div>

<section id="chants" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-noneveil-eveil.png" alt="Världens uppvaknande">

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">LIBRANOVA-sång</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 2rem; margin-top: 1rem;">
    <div style="text-align: center;">
      <p><strong>Kvinnlig version</strong><br>Mjuk och känslosam röst, fylld av hopp.</p>
      <a href="../audio/Le chant de l'âme feminin.mp3" class="button" target="_blank">Lyssna</a><br><br>
      <a href="../audio/Le chant de l'âme feminin.mp3" class="button" download>Ladda ner</a>
    </div>
    <div style="text-align: center;">
      <p><strong>Manlig version</strong><br>Djup och engagerad röst.</p>
      <a href="../audio/Le chant de l'âme masculin.mp3" class="button" target="_blank">Lyssna</a><br><br>
      <a href="../audio/Le chant de l'âme masculin.mp3" class="button" download>Ladda ner</a>
    </div>
  </div>
  <p style="margin-top: 1rem; font-size: 0.9rem; color: #555;">
    Dessa sånger är skyddade av licensen CC BY-NC-ND 4.0. Fri delning utan kommersiellt bruk.
  </p>
</div>

<section id="contact" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-guerre-paix.png" alt="Krig vs Fred" />

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Kontakt & Nätverk</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p>E-post: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></p>
  <p>YouTube: <a href="https://www.youtube.com/@LeporteurdeLIBRANOVA" target="_blank">@LeporteurdeLIBRANOVA</a></p>
  <p>Instagram: <a href="https://www.instagram.com/libranova_officiel" target="_blank">@libranova_officiel</a></p>
</div>

<section id="rejoindre" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utoipie-union.png" alt="Gå med i LIBRANOVA">
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Gå med i LIBRANOVA</h2>
  </div>
</section>

<section style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p>LIBRANOVA är ett upprop. En gemensam dröm. En revolution av själ och förnuft. Om denna vision talar till dig, är du redan en del av den. Så här kan du agera:</p>
  <ul style="text-align: left; max-width: 800px; margin: 2rem auto;">
    <li><strong>Dela manifestet</strong> på ditt språk, i dina nätverk, med din omgivning.</li>
    <li><strong>Sprid Själsången</strong>, ett starkt känslomässigt verktyg för att väcka medvetandet.</li>
    <li><strong>Översätt, sprid, anpassa</strong> innehållet till andra språk eller format (videor, affischer, texter).</li>
    <li><strong>Skapa LIBRANOVA-cirklar</strong> i dina städer, skolor och medborgarutrymmen.</li>
    <li><strong>Kontakta oss</strong> med idéer, samarbeten eller frågor: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></li>
    <li><strong>Vakna och väck andra</strong> genom att leva LIBRANOVAs värderingar redan nu.</li>
  </ul>
  <p style="font-weight: bold;">Tror du på denna nya värld?</p>
  <a href="https://www.mesopinions.com/petition/social/libranova-monde-argent-fonde-humain-planete/242752" class="button" target="_blank" style="background-color: #007bff;">Skriv under LIBRANOVA-petitionen</a>

  <div class="like-container" style="margin-top: 20px;">
    <button class="like-button" id="like-btn">❤️ Jag gillar</button>
    <span id="like-count">Laddar…</span>
  </div>
</section>

<section id="commentaires" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-avis-libranova.png" alt="Dela din åsikt" />
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Dela din åsikt</h2>
  </div>
</section>

<div style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
  <p style="color: #333; font-size: 1.1rem;">
    Dina tankar, känslor och idéer är värdefulla. Tack för att du bidrar till att utveckla LIBRANOVA.
  </p>

  <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSe1_reFrqotD145Q_MgNPCOvS9AcTCLjs1sX5Uz_eR8RuC8dA/viewform?embedded=true" width="640" height="1408" frameborder="0" marginheight="0" marginwidth="0">Chargement…</iframe>
</div>

<section id="compteur" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="../images/banniere-utopie-visiteur.png" alt="Besökare" />

  <!-- Titel -->
  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: white; background: transparent; text-shadow: none;">Besökare</h2>
  </div>

  <!-- Citat -->
  <div class="banniere-texte" style="top: 75%; transform: translate(-50%, -75%);">
    <p style="font-size: 1.2rem; font-weight: normal; color: white; margin: 0; background: transparent;">
      Att ena världen genom kärlek och broderskap är vår största styrka.
    </p>
  </div>

  <!-- Räknare -->
  <div class="banniere-texte">
    <p id="visitor-count" style="background: transparent; color: black; font-weight: bold; margin-top: 1rem;">
      Laddar…
    </p>
  </div>
</section>

<section style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 2rem auto; max-width: 1000px; text-align: center; font-size: 1.1rem; color: #333;">
  <p style="font-weight: bold; font-size: 1.3rem;">
    © LIBRANOVAs projektinnehavare
  </p>
  <p>
    Detta verk görs tillgängligt enligt följande licensvillkor:
  </p>

  <p style="font-weight: bold; font-size: 1.2rem;">
    Creative Commons – Erkännande – Icke-kommersiell – Inga bearbetningar 4.0 Internationell<br>(CC BY-NC-ND 4.0)
  </p>

  <div style="margin: 1rem 0;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt="CC" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/by.svg" alt="BY" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg" alt="NC" style="height: 30px; margin-right: 5px;">
    <img src="https://mirrors.creativecommons.org/presskit/icons/nd.svg" alt="ND" style="height: 30px;">
  </div>

  <p>
    Kommersiell användning, modifiering eller omtolkning är inte tillåten utan skriftligt tillstånd från upphovsmannen.
  </p>

  <p>
    För att läsa licensen, besök:<br>
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.sv" target="_blank">
      https://creativecommons.org/licenses/by-nc-nd/4.0/deed.sv
    </a>
  </p>
</section>

<footer style="margin-top: 2rem; padding: 2rem; background-color: rgba(255, 255, 255, 0.9); border-radius: 12px; text-align: center;">
  <p style="font-size: 1.1rem; font-weight: bold; color: #222;">
    © 2025 LIBRANOVA | Creative Commons Licens – Erkännande – Icke-kommersiell – Inga bearbetningar 4.0 Internationell (CC BY-NC-ND 4.0)
  </p>
  <p style="font-size: 1rem; color: #333; margin-top: 0.5rem;">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.sv" target="_blank" style="color: #0e2f44; text-decoration: underline;">
      Se licensens detaljer
    </a>
  </p>
</footer>
<script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

    const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co'
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8'

    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)
   async function logVisit() {
  const visitorId = getOrCreateVisitorId();

  const { data: existing, error: checkError } = await supabase
    .from('VISITS')
    .select('*')
    .eq('visitor_id', visitorId);

  if (checkError) {
    console.error('Erreur de vérification du visiteur :', checkError.message);
    return;
  }

  if (existing.length === 0) {
    const { error: insertError } = await supabase
      .from('VISITS')
      .insert([{ visitor_id: visitorId }]);

    if (insertError) {
      console.error('Erreur enregistrement de la visite :', insertError.message);
    }
  } else {
    console.log('Visite déjà enregistrée');
  }
}

    async function getVisitCount() {
      const { data, error } = await supabase.from('VISITS').select('id')
      if (error) {
        console.error('Erreur récupération compteur :', error.message)
        return null
      }
      return data.length
    }

    document.addEventListener('DOMContentLoaded', async () => {
      await logVisit()
      const count = await getVisitCount()
      const counterDisplay = document.getElementById('visitor-count')
      if (counterDisplay && count !== null) {
        counterDisplay.textContent = `Nombre de visiteurs : ${count}`
      } else {
        counterDisplay.textContent = `Compteur indisponible.`
      }
    })
  </script>

  <!-- Script bouton Like -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script>
    const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8';
    const TABLE_NAME = 'likes';

    const supabaseLike = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    function getOrCreateVisitorId() {
      let id = localStorage.getItem('visitor_id');
      if (!id) {
        id = (Math.random().toString(36).substring(2)) + Date.now().toString(36);
        localStorage.setItem('visitor_id', id);
      }
      return id;
    }

    async function fetchLikeCount() {
      const { count, error } = await supabaseLike
        .from(TABLE_NAME)
        .select('*', { count: 'exact', head: true });

      if (!error) {
        document.getElementById('like-count').textContent = `${count} j'aime`;
      } else {
        console.error("Erreur chargement likes :", error.message);
      }
    }

    async function handleLike() {
  const visitorId = getOrCreateVisitorId();
  console.log("visitorId =", visitorId);

  // Vérifier existence d'un like
  const { data: existing, error: selectError } = await supabaseLike
    .from('likes')
    .select('*')
    .eq('ip_hash', visitorId);

  if (selectError) {
    console.error("Erreur de vérification du like :", selectError.message);
    return;
  }

  if (existing && existing.length > 0) {
    console.log("Déjà liké");
    return;
  }

  // Enregistrer le like
  const { error: insertError } = await supabaseLike
    .from('likes')
    .insert([{ ip_hash: visitorId }]);  // << CLÉ : tableau + nom de champ bien orthographié

  if (!insertError) {
    document.querySelector('.like-button').classList.add('clicked');
    fetchLikeCount();
  } else {
    console.error("Erreur d'enregistrement du like :", insertError.message);
  }
}
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("like-btn").addEventListener("click", handleLike);
      fetchLikeCount();
    });
  </script>
</body>
</html>