<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 <title>LIBRANOVA - For a New World</title>
 <link rel="stylesheet" href="style.css" />
 <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>
 <div id="language-selector" style="position: absolute; top: 10px; right: 10px; z-index: 999;">
  <a href="index.html" title="Français">
    <img src="images/flag-fr.png" alt="FR" style="width: 28px; height: auto; margin-right: 6px;">
  </a>
  <a href="index-en.html" title="English">
    <img src="images/flag-en.png" alt="EN" style="width: 28px; height: auto;">
  </a>
</div>
 <header class="hero-banner">
   <div class="overlay">
     <h1>LIBRANOVA</h1>
     <p class="slogan">
       For a new world, unite to share, awaken to change.<br />
       Together, let's build a world free from the chains of injustice.
     </p>
   </div>
 </header>

 <nav>
   <ul>
     <li><a href="#presentation">Introduction</a></li>
     <li><a href="#manifeste">Manifesto</a></li>
     <li><a href="#chants">Songs</a></li>
     <li><a href="#contact">Contact</a></li>
     <li><a href="#rejoindre">Join</a></li>
     <li><a href="#commentaires">Feedback</a></li>
     <li><a href="#compteur">Counter</a></li>
   </ul>
 </nav>

<section id="presentation" style="position: relative; text-align: center; color: white;">
 <img src="images/banniere-utopie-travail-vie.png" alt="Work vs Human Life" class="banniere-image" />
 <div class="banniere-texte">
   <h2 style="font-size: 2rem; font-weight: bold; background-color: transparent; color: black; margin: 0;">Introduction</h2>
 </div>
</section>

<section style="text-align: center; padding: 2rem; background-color: rgba(255,255,255,0.9); margin-top: -4px; border-radius: 12px;">
 <p>
   LIBRANOVA is a project of global transformation, a vision for a world free from money, where humanity unites in respect, solidarity, and collective consciousness.
 </p>
 <p>
   It is a call to collectively build a fair civilization, without economic borders, where every human has access to housing, food, healthcare, knowledge, peace, and dignity.
 </p>
 <p>
   LIBRANOVA rejects the reign of imposed scarcity. It proposes a world of shared abundance, in harmony with the planet, freeing human potential from the chains of profit.
 </p>
</section>

<section id="manifeste" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
 <img class="banniere-image" src="images/banniere-utopie-pauvreté-fin de la misére.png" alt="Poverty vs End of Misery">
 <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
   <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">The Manifesto</h2>
 </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
 <p style="color: #333;">Download the full manifesto:</p>
 <div style="display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin-top: 1rem;">
   <a href="Manifeste-LIBRANOVA.pdf" class="button" download>Download the PDF</a>
   <a href="Manifeste-LIBRANOVA.pdf" class="button" target="_blank">Read Online</a>
 </div>
</div>

<section id="chants" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
 <img class="banniere-image" src="images/banniere-utopie-noneveil-eveil.png" alt="Awakening the World">

 <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
   <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">LIBRANOVA Song</h2>
 </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
 <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 2rem; margin-top: 1rem;">
   <div style="text-align: center;">
     <p><strong>Female version</strong><br>A soft and emotional voice, carried by hope.</p>
     <a href="audio/Le chant de l'âme feminin.mp3" class="button" target="_blank">Listen</a><br><br>
     <a href="audio/Le chant de l'âme feminin.mp3" class="button" download>Download</a>
   </div>
   <div style="text-align: center;">
     <p><strong>Male version</strong><br>A deep and committed voice.</p>
     <a href="audio/Le chant de l'âme masculin.mp3" class="button" target="_blank">Listen</a><br><br>
     <a href="audio/Le chant de l'âme masculin.mp3" class="button" download>Download</a>
   </div>
 </div>
 <p style="margin-top: 1rem; font-size: 0.9rem; color: #555;">
   These songs are protected by the CC BY-NC-ND 4.0 license. Free sharing, non-commercial use only.
 </p>
</div>

<section id="contact" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
 <img class="banniere-image" src="images/banniere-utopie-guerre-paix.png" alt="War vs Peace" />
 <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
   <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Contact & Networks</h2>
 </div>
</section>

<div style="background-color: rgba(255,255,255,0.85); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
 <p>Email: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></p>
 <p>YouTube: <a href="https://www.youtube.com/@LeporteurdeLIBRANOVA" target="_blank">@LeporteurdeLIBRANOVA</a></p>
 <p>Instagram: <a href="https://www.instagram.com/libranova_officiel" target="_blank">@libranova_officiel</a></p>
</div>

<section id="rejoindre" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
 <img class="banniere-image" src="images/banniere-utoipie-union.png" alt="Join LIBRANOVA">
 <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
   <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Join LIBRANOVA</h2>
 </div>
</section>

<section style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
 <p>LIBRANOVA is a call. A shared dream. A revolution of soul and reason. If this vision resonates with you, then you are already part of it. Here's how you can take action:</p>
 <ul style="text-align: left; max-width: 800px; margin: 2rem auto;">
   <li><strong>Share the Manifesto</strong> in your language, on your networks, around you.</li>
   <li><strong>Spread the Soul Song</strong>, a powerful emotional tool to awaken consciousness.</li>
   <li><strong>Translate, share, adapt</strong> the content in other languages or formats (videos, posters, texts).</li>
   <li><strong>Create LIBRANOVA circles</strong> in your cities, schools, community spaces.</li>
   <li><strong>Contact us</strong> for any idea, collaboration or question: <a href="mailto:libranova.contact@gmail.com">libranova.contact@gmail.com</a></li>
   <li><strong>Awaken and inspire</strong> by example: by living the values of LIBRANOVA starting today.</li>
 </ul>
 <p style="font-weight: bold;">Do you believe in this new world?</p>
 <a href="https://www.mesopinions.com/petition/social/libranova-monde-argent-fonde-humain-planete/242752" class="button" target="_blank" style="background-color: #007bff;">Sign the LIBRANOVA petition</a>

 <div class="like-container" style="margin-top: 20px;">
   <button class="like-button" id="like-btn">❤️ Like</button>
   <span id="like-count">Loading...</span>
 </div>
</section>

<section id="commentaires" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
 <img class="banniere-image" src="images/banniere-utopie-avis-libranova.png" alt="Share your feedback" />
 <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
   <h2 style="font-size: 2rem; margin: 0; color: black; background: transparent; text-shadow: none;">Share your feedback</h2>
 </div>
</section>

<div style="background-color: rgba(255,255,255,0.9); padding: 2rem; border-radius: 12px; margin: 1rem auto; max-width: 1000px; text-align: center;">
 <p style="color: #333; font-size: 1.1rem;">
   Your thoughts, feelings, and ideas are valuable. Thank you for helping LIBRANOVA grow.
 </p>
 <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScTzu7fk8WGJtQQCumn9UJnI4ywyV5nDyc2XDZpk82Zl8qdcA/viewform?embedded=true" width="640" height="1385" frameborder="0" marginheight="0" marginwidth="0">Chargement…</iframe>
</div>

<section id="compteur" style="position: relative; text-align: center; color: white; margin-top: 2rem;">
  <img class="banniere-image" src="images/banniere-utopie-visiteur.png" alt="Visitors" />

  <div class="banniere-texte" style="top: 10%; transform: translate(-50%, -10%);">
    <h2 style="font-size: 2rem; margin: 0; color: white; background: transparent; text-shadow: none;">Visitors</h2>
  </div>

  <div class="banniere-texte" style="top: 70%; transform: translate(-50%, -70%);">
    <p style="font-size: 1.2rem; font-weight: normal; background-color: rgba(0,0,0,0.6); padding: 1rem; border-radius: 10px;">
      The unification of the world through love and brotherhood is our greatest strength.
    </p>
  </div>

  <div class="banniere-texte">
    <p id="visitor-count">
      Loading...
    </p>
  </div>
</section>

<footer style="margin-top: 2rem;">
 <div style="text-align: center;">
   <img src="images/licence-libranova.png" alt="License CC" style="max-width: 100%; height: auto; margin-top: 1rem; border-radius: 10px;">
 </div>
 <p style="text-align: center; margin-top: 1rem; font-size: 0.95rem; color: #333;">
   © 2025 LIBRANOVA | Creative Commons Attribution - NonCommercial - NoDerivatives 4.0 International License (CC BY-NC-ND 4.0)<br>
   <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en" target="_blank" style="color: #0e2f44;">View license details</a>
 </p>
</footer>

<!-- Visitor Counter Script -->
<script type="module">
 import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

 const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co'
 const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8'

 const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY)

 async function logVisit() {
   const visitorId = getOrCreateVisitorId();
   const { data: existing, error: checkError } = await supabase
     .from('VISITS')
     .select('*')
     .eq('visitor_id', visitorId);

   if (checkError) {
     console.error('Error checking visitor:', checkError.message);
     return;
   }

   if (existing.length === 0) {
     const { error: insertError } = await supabase
       .from('VISITS')
       .insert([{ visitor_id: visitorId }]);
     if (insertError) {
       console.error('Error recording visit:', insertError.message);
     }
   }
 }

 async function getVisitCount() {
   const { data, error } = await supabase.from('VISITS').select('id')
   if (error) {
     console.error('Error retrieving counter:', error.message)
     return null
   }
   return data.length
 }

 document.addEventListener('DOMContentLoaded', async () => {
   await logVisit()
   const count = await getVisitCount()
   const counterDisplay = document.getElementById('visitor-count')
   if (counterDisplay && count !== null) {
     counterDisplay.textContent = `Number of visitors: ${count}`
   } else {
     counterDisplay.textContent = `Counter unavailable.`
   }
 })

 function getOrCreateVisitorId() {
   let id = localStorage.getItem('visitor_id');
   if (!id) {
     id = (Math.random().toString(36).substring(2)) + Date.now().toString(36);
     localStorage.setItem('visitor_id', id);
   }
   return id;
 }
</script>

<!-- Like Button Script -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
 const SUPABASE_URL = 'https://sbvczmythudfntzgofjw.supabase.co';
 const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNidmN6bXl0aHVkZm50emdvZmp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDk0NjAsImV4cCI6MjA2MzQyNTQ2MH0.chVFdhJFUU1JBsuiDVENggcDlrxq3gEDNK7TEa5aub8';
 const TABLE_NAME = 'likes';

 const supabaseLike = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

 function getOrCreateVisitorId() {
   let id = localStorage.getItem('visitor_id');
   if (!id) {
     id = (Math.random().toString(36).substring(2)) + Date.now().toString(36);
     localStorage.setItem('visitor_id', id);
   }
   return id;
 }

 async function fetchLikeCount() {
   const { count, error } = await supabaseLike
     .from(TABLE_NAME)
     .select('*', { count: 'exact', head: true });

   if (!error) {
     document.getElementById('like-count').textContent = `${count} likes`;
   } else {
     console.error("Error loading likes:", error.message);
   }
 }

 async function handleLike() {
   const visitorId = getOrCreateVisitorId();

   const { data: existing, error: selectError } = await supabaseLike
     .from('likes')
     .select('*')
     .eq('ip_hash', visitorId);

   if (selectError) {
     console.error("Error checking like:", selectError.message);
     return;
   }

   if (existing && existing.length > 0) {
     console.log("Already liked");
     return;
   }

   const { error: insertError } = await supabaseLike
     .from('likes')
     .insert([{ ip_hash: visitorId }]);

   if (!insertError) {
     document.querySelector('.like-button').classList.add('clicked');
     fetchLikeCount();
   } else {
     console.error("Error recording like:", insertError.message);
   }
 }

 document.addEventListener("DOMContentLoaded", () => {
   document.getElementById("like-btn").addEventListener("click", handleLike);
   fetchLikeCount();
 });
</script>
</body>
</html>
